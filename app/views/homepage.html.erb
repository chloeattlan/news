<style>
  body {
    font-family: 'Segoe UI', 'Roboto', 'Helvetica Neue', sans-serif;
    margin: 20px;
  }

  h1 {
    font-size: 32px;
    font-weight: 700;
    color: #222;
    margin-bottom: 20px;
    letter-spacing: -0.5px;
  }

  .button-link {
    display: inline-block;
    padding: 12px 20px;
    background-color: #4f46e5; /* Indigo */
    color: white;
    text-decoration: none;
    font-weight: 600;
    border-radius: 8px;
    font-size: 16px;
    transition: all 0.2s ease;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
  }

  .button-link:hover {
    background-color: #4338ca;
    transform: translateY(-1px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.08);
  }
</style>

<h1>üóûÔ∏è Market News Dashboard üóûÔ∏è</h1>

<a href="/insert_page" class="button-link">Ôºã Insert News Event</a>


<!--<h2> Recent News Headlines From Today: </h2>

<ul>
  <%# @items.each do |item| %>-->
<!--    <li><%#= item %></li>-->
  <%# end %>
<!--</ul>-->


<style>
  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    font-family: sans-serif;
    font-size: 14px;
  }

  th, td {
    border: 1px solid #ddd;
    padding: 10px;
    vertical-align: top;
    text-align: left;
  }

  th {
    background-color: #f2f2f2;
    font-weight: bold;
  }

  tr:nth-child(even) {
    background-color: #f9f9f9;
  }

  td a {
    color: #0645ad;
    text-decoration: underline;
  }
</style>

<table>
  <thead>
    <tr>
      <th>Created At</th>
      <th>Event</th>
      <th>Source</th>
      <th>Article</th>
      <th>Summary</th>
      <th>Impact</th>
      <th>Stocks Affected</th>
      <th>Timeframe</th>
    </tr>
  </thead>
  <tbody>
    <% @notes.each do |note| %>
      <tr>
        <td><%= note.created_at.strftime('%Y-%m-%d %H:%M') %></td>
        <td><%= note.event %></td>
        <td><%= note.source %></td>
        <td>
          <% if note.article.present? %>
            <a href="<%= note.article %>" target="_blank"><%= note.article %></a>
          <% end %>
        </td>
        <td><%= note.summary %></td>
        <td><%= note.impact %></td>
        <td><%= note.stocks_text %></td>
        <td><%= note.timeframe %></td>

      </tr>
    <% end %>
  </tbody>
</table>

<!-- TradingView Widget BEGIN -->
<div class="tradingview-widget-container">
  <div id="tradingview_chart"></div>
  <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-symbol-overview.js" async>
  {
    "symbols": [
      ["S&P 500", "AMEX:SPY"],
      ["NASDAQ", "NASDAQ:IXIC"],
      ["Dow Jones", "INDEX:DOWI"]
    ],
    "width": "100%",
    "height": "400",
    "locale": "en",
    "colorTheme": "light",
    "isTransparent": false,
    "showChart": true,
    "scalePosition": "right",
    "scaleMode": "Normal",
    "fontFamily": "Segoe UI",
    "backgroundColor": "white"
  }
  </script>
</div>
<!-- TradingView Widget END -->
